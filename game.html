<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Escape de Abstracci√≥n</title>
        <link rel="stylesheet" href="./css/styles.css">
    </head>
    <body>
        <div class="app">
            <header>
                <h1>Escape de Abstracci√≥n ‚Ä¢ <small style="color:#93c5fd">Nivel 1</small></h1>
                <div class="toolbar">
                    <button id="btnReset" class="btn">Reiniciar</button>
                    <button id="btnBackMenu" class="btn" aria-label="Volver al men√∫">Men√∫</button>
                </div>
            </header>


            <main class="scene-wrap">
                <div id="scene" class="scene has-image" role="application" aria-label="Escena de oficina con pistas" tabindex="0">
                    <!-- Hotspot Puerta (ajustar left/top seg√∫n imagen) -->
                    <button id="doorHotspot" class="hotspot puerta" style="left:35%; top:50%" aria-label="Puerta de salida (muestra el c√≥digo)"></button>
                    <button id="codeHintBtn" class="hint-badge hidden" aria-label="Recordar c√≥digo">üìú</button>
                    <div id="codeHintTooltip" class="code-hint hidden"></div>
                    <button id="prevScene" class="scene-nav left" aria-label="Escena anterior">‚óÄ</button>
                    <button id="nextScene" class="scene-nav right" aria-label="Escena siguiente">‚ñ∂</button>
                    <div id="sceneIndicator" class="scene-indicator" aria-live="polite">Escena 1/3</div>
                    <div class="hud" aria-live="polite">
                        <div class="hud-item"><strong>Intentos:</strong> <span id="hudClicks">0</span></div>
                        <div class="hud-item"><strong>Tiempo:</strong> <span id="hudTime">00:00</span></div>
                    </div>
                </div>


                <!-- Panel de interacci√≥n: c√≥digo mostrado y respuesta del jugador -->
                <section class="panel hidden" id="panel" aria-live="polite">
                    <div class="panel-head">
                        <div>
                            <h3 class="panel-title">
                                C√≥digo de la puerta
                                <small>(Traduce cada palabra usando la pista correcta)</small>
                            </h3>

                            <div class="code-pairs">
                                <div class="pair">
                                    <div id="codeChip0" class="code-tag"></div>
                                    <select id="sel0"></select>
                                </div>
                                <div class="pair">
                                    <div id="codeChip1" class="code-tag"></div>
                                    <select id="sel1"></select>
                                </div>
                                <div class="pair">
                                    <div id="codeChip2" class="code-tag"></div>
                                    <select id="sel2"></select>
                                </div>
                            </div>

                        </div>
                        <div>
                            <div class="helper">Pistas vistas: <span id="seenCount">0</span></div>
                        </div>
                    </div>






                    <div class="actions">
                        <button id="btnCheck" class="btn primary">Probar soluci√≥n</button>
                        <div id="result" class="result" role="status" aria-live="polite"></div>
                    </div>
                </section>
            </main>


            <footer>
                <div class="helper">Tip did√°ctico: hay muchas pistas, pero solo 3 importan. Ignor√° el ruido, enfoc√° en lo esencial: <em>Abstracci√≥n</em>.</div>
            </footer>
        </div>


        <!-- Tooltip contenedor (reutilizable) -->
        <div id="tooltip" class="tooltip" style="display:none"></div>


        <!-- Overlay de pista (hoja) -->
        <div id="clueOverlay" class="clue-overlay hidden" aria-hidden="true">
            <div class="clue-paper" role="dialog" aria-live="polite">
                <div id="clueText" class="clue-text"></div>
            </div>
        </div>

        <!-- Overlay victoria -->
        <div id="win" class="overlay" aria-hidden="true">
            <div class="card">
                <h2>¬°Puerta abierta!</h2>
                <p>Tradujiste el c√≥digo correctamente aplicando <strong>abstracci√≥n</strong> y <strong>filtro de ruido</strong>.</p>

                <ul class="stats">
                    <li><strong>Intentos:</strong> <span id="statClicks">0</span></li>
                    <li><strong>Tiempo:</strong> <span id="statTime">00:00</span></li>
                </ul>

                <div class="card-actions">
                    <button id="btnCloseWin" class="btn">Cerrar</button>
                    <button id="btnPlayAgain" class="btn primary">Jugar de nuevo</button>
                </div>
            </div>
        </div>


    <script type="module" src="./js/game.js"></script>
    </body>
</html>